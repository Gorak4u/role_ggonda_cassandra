require 'spec_helper' describe 'role_ggonda_cassandra' do context 'on a supported OS with Hiera data' do let(:facts) do { os: { family: 'RedHat', name: 'CentOS', release: { major: '7', full: '7.9.2009' } }, '::ipaddress' => '192.168.1.10', '::fqdn' => 'server.example.com' } end it { is_expected.to compile.with_all_deps } it { is_expected.to contain_class('profile_ggonda_cassandr') } end end